


// Creation and deletion
create mo 1
mo 0 logging on
expect getnumberofmo 1
delete all mo
expect getnumberofmo 0
create mo 5
expect getnumberofmo 5
delete mo 2
delete mo 2
expect getnumberofmo 3
add mo 1
delete mo 1
expect getnumberofmo 3
delete mo 0
expect getnumberofmo 2
delete mo 1
expect getnumberofmo 1
delete all mo
expect getnumberofmo 0




// Creation and deletion with -owner
create mo 1 -owner 1
expect getnumberofmo 1
add mo 1 -owner 2
expect getnumberofmo 2
delete all mo -owner 1
expect getnumberofmo 1
delete all mo -owner 2
expect getnumberofmo 0
create mo 5 -owner 1
expect getnumberofmo 5
create mo 5 -owner 2
expect getnumberofmo 5
create mo 5 -owner 1
expect getnumberofmo 5
add mo 5 -owner 2
expect getnumberofmo 10
add mo 5 -owner 3
expect getnumberofmo 15
add mo 5 -owner 4
expect getnumberofmo 20
add mo 5 -owner 5
expect getnumberofmo 25
delete all mo -owner 1
expect getnumberofmo 20
delete all mo -owner 2
expect getnumberofmo 15
delete all mo -owner 3
expect getnumberofmo 10
delete all mo -owner 4
expect getnumberofmo 5
delete all mo -owner 5
expect getnumberofmo 0




// Mark and unmark
add mo 20 -owner 0
mo all logging on
expect getnumberofmo 20
expect getnumberofmarkedmo 0
mo 10 mark
expect getnumberofmarkedmo 1
mo 11 mark
expect getnumberofmarkedmo 2
mo 2 mark
expect getnumberofmarkedmo 3
mo 7 unmark
expect getnumberofmarkedmo 3
mo 11 unmark
expect getnumberofmarkedmo 2
mo all unmark
expect getnumberofmarkedmo 0
mo 4 mark
mo 5 mark
expect getnumberofmarkedmo 2
mo marked unmark
expect getnumberofmarkedmo 0
delete all mo
expect getnumberofmo 0
expect getnumberofmarkedmo 0
create mo 2
mo 1 mark
delete mo 0
expect getnumberofmarkedmo 1
delete mo 0
expect getnumberofmarkedmo 0
expect getnumberofmo 0




// Ordering
create mo 1
mo 0 logging on
mo 0 mark
expect getnumberofmarkedmo 1
mo 0 unmark
expect getnumberofmo 1
mo 0 getdistance
mo 0 getdestination
mo 0 getspeed
mo 0 help
mo 0 setdestination 0 0
delete all mo
expect getnumberofmo 0
create mo 1
expect getnumberofmo 1
mo 0 setdestination random_x random_y
mo 0 setdestination random_x random_y
mo 0 setdestination random_x random_y
mo 0 setdestination random_x random_y
runoneframe
runoneframe
runoneframe
runoneframe
delete all mo
expect getnumberofmo 0




// Random mo test
create mo 5
mo random_mo mark
expect getnumberofmarkedmo 1
mo random_mo setdestination random_x random_y
mo random_mo getdestination
mo random_mo getspeed
mo random_mo getdistance
delete all mo
expect getnumberofmo 0







// Large number of mos
map setsize 512 512 32 32
create mo 100000 -owner 1
add mo 100000 -owner 2
expect getnumberofmo 200000
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
mo all setdestination random_x random_y
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
delete mo 5
delete mo 133
delete mo 1
delete mo 76571
delete mo 66661
delete mo 77
delete mo 192002
delete mo 0
delete mo 3422
delete mo 34231
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
runoneframe
getfps
expect getnumberofmo 199990
delete all mo
expect getnumberofmo 0




// Stressing
map setsize 256 256 32 32
create mo 400 -owner 1
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
add mo 400 -owner 2
add mo 400 -owner 3
delete all mo -owner 2
delete all mo -owner 1
delete all mo -owner 3
expect getnumberofmo 0




// Exiting application when all tests have run
exit application